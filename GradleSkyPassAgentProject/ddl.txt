DROP TABLE SP_PARSING_MASTER;
DROP TABLE SP_PARSING_MASTER_LOG;


-- 시퀀스 생성	
CREATE SEQUENCE SEQ_TTT;	
CREATE TABLE SP_PARSING_MASTER
(
     SEQ INT NOT NULL DEFAULT NEXTVAL('SEQ_TTT')
    ,MEMBERSHIPID VARCHAR(20) NOT NULL
    ,MEMBERSHIPRESOURCEID VARCHAR(50) NOT NULL 
    ,RESOURCE VARCHAR(500)
    ,OPERATION VARCHAR(500)
    ,ACTION VARCHAR(500)
    ,ID VARCHAR(500)
    ,CREATEDAT VARCHAR(50)  
    ,JSONDATA VARCHAR(4000)
    ,CREAEDATE DATE NOT NULL
);
ALTER TABLE SP_PARSING_MASTER ADD CONSTRAINT SP_PARSING_MASTER_PK PRIMARY KEY (SEQ);
-- 테이블 삭제시 시퀀스도 같이 삭제 처리
ALTER SEQUENCE SEQ_TTT OWNED BY SP_PARSING_MASTER.SEQ; 

-- INDEX
CREATE INDEX SP_PARSING_MASTER_IDX1 ON SP_PARSING_MASTER (SEQ);
--==================================================================
-- 시퀀스 생성	
CREATE SEQUENCE SEQ_TTT_LOG;	
CREATE TABLE SP_PARSING_MASTER_LOG
(
     SEQ INT NOT NULL DEFAULT NEXTVAL('SEQ_TTT_LOG')
    ,MEMBERSHIPID VARCHAR(20) NOT NULL
    ,MEMBERSHIPRESOURCEID VARCHAR(50) NOT NULL      
    ,RESOURCE VARCHAR(500)
    ,OPERATION VARCHAR(500)
    ,ACTION VARCHAR(500)
    ,ID VARCHAR(500)
    ,CREATEDAT VARCHAR(50)  
    ,JSONDATA VARCHAR(4000)
    ,PROCESS VARCHAR(10)
    ,PROCESSTHREADNAME VARCHAR(20)
    ,PROCESSORDERBY INT
    ,PROCESSLOG VARCHAR(4000)
    ,CREAEDATE DATE NOT NULL    
);
ALTER TABLE SP_PARSING_MASTER_LOG ADD CONSTRAINT SP_PARSING_MASTER_LOG_PK PRIMARY KEY (SEQ);
-- 테이블 삭제시 시퀀스도 같이 삭제 처리
ALTER SEQUENCE SEQ_TTT_LOG OWNED BY SP_PARSING_MASTER_LOG.SEQ; 

-- INDEX
CREATE INDEX SP_PARSING_MASTER_LOG_IDX1 ON SP_PARSING_MASTER_LOG (SEQ);